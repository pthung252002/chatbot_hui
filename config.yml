language: vi

pipeline:
  - name: "WhitespaceTokenizer" # Tokenizer Ä‘á»ƒ tÃ¡ch tá»«
  - name: "LanguageModelFeaturizer" # DÃ¹ng PhoBERT Ä‘á»ƒ hiá»ƒu tiáº¿ng Viá»‡t tá»‘t hÆ¡n
    model_name: "bert"
    model_weights: "vinai/phobert-base"
    cache_dir: "RasaModelCache"
  - name: "RegexFeaturizer" # Nháº­n diá»‡n máº«u regex trong cÃ¢u
  - name: "LexicalSyntacticFeaturizer" # TrÃ­ch xuáº¥t Ä‘áº·c trÆ°ng ngá»¯ phÃ¡p
  - name: "CountVectorsFeaturizer" # Vector hÃ³a tá»«
  - name: "CountVectorsFeaturizer" # Vector hÃ³a kÃ½ tá»± (ngram)
    analyzer: "char_wb"
    lowercase: true
    min_ngram: 1
    max_ngram: 5
  - name: "RegexEntityExtractor"
    case_sensitive: false
    use_lookup_tables: true
    use_regexes: true # KÃ­ch hoáº¡t regex Ä‘á»ƒ nháº­n diá»‡n entity
    use_word_boundaries: true # GiÃºp báº¯t chÃ­nh xÃ¡c tá»« khÃ³a
    use_only_defined_regexes: true # ğŸ”¹ Chá»‰ báº¯t entity Ä‘Ãºng vá»›i regex, khÃ´ng báº¯t cÃ¡c entity khÃ¡c
    entities: # ğŸ”¹ Chá»‰ cho phÃ©p báº¯t cÃ¡c entity nÃ y
      - hoat_dong_chinh
      - hoat_dong_phu
      - doi_tuong
      - doi_tuong_phu
      - trang_thai
      - tro_tu
      - tro_tu2

  - name: "DIETClassifier" # Nháº­n diá»‡n intent & entity
    epochs: 120
    learning_rate: 0.0005
    tensorboard_log_directory: "./tb_logs"
    checkpoint_model: true
    evaluate_every_number_of_epochs: 5
    drop_rate: 0.3
    weight_sparsity: 0.5
    min_ngram: 1
    max_ngram: 5
    constrain_similarities: true
    intent_classification: true # ğŸ”¹ Giá»¯ nháº­n diá»‡n intent
    entity_recognition: false # ğŸ”¹ Báº¬T nháº­n diá»‡n entity Ä‘á»ƒ synonym cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng

  - name: "EntitySynonymMapper" # Xá»­ lÃ½ tá»« Ä‘á»“ng nghÄ©a
    constrain_similarities: true # ğŸ”¹ NgÄƒn synonym ghi Ä‘Ã¨ nhiá»u láº§n
  - name: "ResponseSelector" # Chá»n pháº£n há»“i phÃ¹ há»£p
    epochs: 100

  - name: "FallbackClassifier" # Xá»­ lÃ½ khi chatbot khÃ´ng cháº¯c cháº¯n
    threshold: 0.3
    ambiguity_threshold: 0.1

policies:
  - name: "MemoizationPolicy"
  - name: "RulePolicy"
  - name: "TEDPolicy"
    max_history: 5
    epochs: 50
    checkpoint_model: true
    evaluate_every_number_of_epochs: 10
    tensorboard_log_directory: "./tb_logs"
assistant_id: 20250303-041938-current-forest
